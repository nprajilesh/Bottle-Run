package com.cetdhwani.managers;

import org.andengine.audio.music.Music;
import org.andengine.audio.music.MusicFactory;
import org.andengine.engine.Engine;
import org.andengine.entity.scene.background.AutoParallaxBackground;
import org.andengine.opengl.font.Font;
import org.andengine.opengl.font.FontFactory;
import org.andengine.opengl.texture.ITexture;
import org.andengine.opengl.texture.TextureOptions;
import org.andengine.opengl.texture.atlas.bitmap.BitmapTextureAtlas;
import org.andengine.opengl.texture.atlas.bitmap.BitmapTextureAtlasTextureRegionFactory;
import org.andengine.opengl.texture.region.ITextureRegion;
import org.andengine.opengl.texture.region.TiledTextureRegion;
import org.andengine.ui.activity.BaseGameActivity;

import com.cetdhwani.scenes.AudioManager;

public class ResManager {

	public BaseGameActivity activity;
	public CamManager cameraManager;
	public Engine engine;

	public BitmapTextureAtlas splashTexture, playerTexture, flagTexture,
			blinkTexture, vehicleTexture, landTexture, cardTexture,
			bottleTexture[], mAutoParallaxBackgroundTexture, gameOverTexture,
			playGameTexture, blurTexture, devilTexture, logoTexture,
			leafTexture, collegeTexture, loaderTexture, plus2Texture,
			plus10Texture,freedomTexture,happinesTexture,ethicsTexture,leaderBoardTexture,notifyTexture;
	public ITextureRegion splashRegion, landRegion, mParallaxLayerBack,
			mParallaxLayerMid, plusPointRegion, plus2Region, plus10Region,
			bottleRegion[], gameOverRegion, cardRegion, blurRegion,
			collegeRegion, devilRegion, logoRegion, leafRegion,freedomRegion,happinesRegion,ethicsRegion,notifyRegion;

	public TiledTextureRegion playGameRegion, loaderRegion, playerRegion,leaderBoardRegion,
			flagRegion, blinkRegion, vehicleRegion;
	public AutoParallaxBackground autoParallaxBackground;

	public Font font, font1;
	public final int BOTTLES = 5;
	public AudioManager sM;  
	public ResManager(BaseGameActivity activity,
			CamManager cameraManager) {
		this.cameraManager = cameraManager;
		this.activity = activity;
		engine = activity.getEngine();		
		this.sM=new AudioManager(activity,engine.getMusicManager(),true);
		bottleTexture = new BitmapTextureAtlas[BOTTLES];
		bottleRegion = new ITextureRegion[BOTTLES];
	}

	public void loadSplashResources() {
		splashTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				128, 256);
		splashRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				splashTexture, activity, "gfx/game/bottle5.png", 0, 0);
		splashTexture.load();
		freedomTexture = new BitmapTextureAtlas(activity.getTextureManager(), 128,
				128, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		freedomRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				freedomTexture, activity, "gfx/logo/freedom.png", 0, 0);
		freedomTexture.load();
//
		happinesTexture = new BitmapTextureAtlas(activity.getTextureManager(), 128,
				128, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		happinesRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				happinesTexture, activity, "gfx/logo/happiness.png", 0, 0);
		happinesTexture.load();
		

		ethicsTexture = new BitmapTextureAtlas(activity.getTextureManager(), 128,
				128, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		ethicsRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				ethicsTexture, activity, "gfx/logo/ethics.png", 0, 0);
		ethicsTexture.load();
		
		loaderTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				1024, 1024, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		loaderRegion = BitmapTextureAtlasTextureRegionFactory
				.createTiledFromAsset(loaderTexture, activity,
						"gfx/game/loader.png", 0, 0, 5, 5);
		loaderTexture.load();

	}

	public void unLoadSplashResources() {

	}

	public void loadGameResources() {
		playerTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				128, 128, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		playerRegion = BitmapTextureAtlasTextureRegionFactory
				.createTiledFromAsset(playerTexture, activity,
						"gfx/game/player.png", 0, 0, 2, 1);
		playerTexture.load();

		vehicleTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				512, 256, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		vehicleRegion = BitmapTextureAtlasTextureRegionFactory
				.createTiledFromAsset(vehicleTexture, activity,
						"gfx/game/vehicle.png", 0, 0, 2, 2);
		vehicleTexture.load();

		playGameTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				512, 64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		playGameRegion = BitmapTextureAtlasTextureRegionFactory
				.createTiledFromAsset(playGameTexture, activity,
						"gfx/game/play.png", 0, 0, 2, 1);
		playGameTexture.load();

		leaderBoardTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				512, 64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		leaderBoardRegion = BitmapTextureAtlasTextureRegionFactory
				.createTiledFromAsset(leaderBoardTexture, activity,
						"gfx/game/leaderboard.png", 0, 0, 2, 1);
		leaderBoardTexture.load();

		
		blinkTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				2048, 512, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		blinkRegion = BitmapTextureAtlasTextureRegionFactory
				.createTiledFromAsset(blinkTexture, activity,
						"gfx/game/blink.png", 0, 0, 2, 1);
		blinkTexture.load();

		landTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				1024, 64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		landRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				landTexture, activity, "gfx/game/platform.png", 0, 0);
		landTexture.load();

		logoTexture = new BitmapTextureAtlas(activity.getTextureManager(), 64,
				64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		logoRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				logoTexture, activity, "gfx/game/logo.png", 0, 0);
		logoTexture.load();

		notifyTexture = new BitmapTextureAtlas(activity.getTextureManager(), 256,
				64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		notifyRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				notifyTexture, activity, "gfx/game/msg.png", 0, 0);
		notifyTexture.load();

		
		plus2Texture = new BitmapTextureAtlas(activity.getTextureManager(), 64,
				64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		plus2Region = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				plus2Texture, activity, "gfx/game/plus2.png", 0, 0);
		plus2Texture.load();

		plus10Texture = new BitmapTextureAtlas(activity.getTextureManager(),
				64, 64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		plus10Region = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				plus10Texture, activity, "gfx/game/plus10.png", 0, 0);
		plus10Texture.load();

		flagTexture = new BitmapTextureAtlas(activity.getTextureManager(), 256,
				512, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		flagRegion = BitmapTextureAtlasTextureRegionFactory
				.createTiledFromAsset(flagTexture, activity,
						"gfx/game/flag.png", 0, 0, 4, 2);
		flagTexture.load();

		devilTexture = new BitmapTextureAtlas(activity.getTextureManager(), 64,
				64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		devilRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				devilTexture, activity, "gfx/game/devil.png", 0, 0);
		devilTexture.load();

		blurTexture = new BitmapTextureAtlas(activity.getTextureManager(), 640,
				480, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		blurRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				blurTexture, activity, "gfx/game/blur.png", 0, 0);
		blurTexture.load();

		
		
		cardTexture = new BitmapTextureAtlas(activity.getTextureManager(), 32,
				32, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		cardRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				cardTexture, activity, "gfx/game/dhwani.png", 0, 0);
		cardTexture.load();

		collegeTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				2048, 512, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		collegeRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				collegeTexture, activity, "gfx/game/college.png", 0, 0);
		collegeTexture.load();

		leafTexture = new BitmapTextureAtlas(activity.getTextureManager(), 32,
				32, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		leafRegion = BitmapTextureAtlasTextureRegionFactory.createFromAsset(
				leafTexture, activity, "gfx/game/marichuvana.png", 0, 0);
		leafTexture.load();

		for (int i = 0; i < BOTTLES; ++i) {
			bottleTexture[i] = new BitmapTextureAtlas(
					activity.getTextureManager(), 16, 64,
					TextureOptions.BILINEAR_PREMULTIPLYALPHA);
			bottleRegion[i] = BitmapTextureAtlasTextureRegionFactory
					.createFromAsset(bottleTexture[i], activity,
							"gfx/game/bottle" + (i + 1) + ".png", 0, 0);
			bottleTexture[i].load();
		}

		gameOverTexture = new BitmapTextureAtlas(activity.getTextureManager(),
				256, 64, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
		gameOverRegion = BitmapTextureAtlasTextureRegionFactory
				.createFromAsset(gameOverTexture, activity,
						"gfx/game/gameover.png", 0, 0);
		gameOverTexture.load();

		mAutoParallaxBackgroundTexture = new BitmapTextureAtlas(
				activity.getTextureManager(), 2048, 2048,
				TextureOptions.DEFAULT);
		mParallaxLayerBack = BitmapTextureAtlasTextureRegionFactory
				.createFromAsset(this.mAutoParallaxBackgroundTexture, activity,
						"gfx/game/back.png", 0, 480);
		mParallaxLayerMid = BitmapTextureAtlasTextureRegionFactory
				.createFromAsset(this.mAutoParallaxBackgroundTexture, activity,
						"gfx/game/back6.png", 0, 0);

		autoParallaxBackground = new AutoParallaxBackground(0, 0, 0, 30);
		engine.getTextureManager().loadTexture(mAutoParallaxBackgroundTexture);

	}

	public void loadMenuResources() {
	}

	public void loadSounds(){
		sM.loadMusic();
	}
	public void loadFonts() {
		String mFontFile = "font/base.otf";
		final ITexture font_hud = new BitmapTextureAtlas(
				activity.getTextureManager(), 1024, 1024,
				TextureOptions.BILINEAR);
		font = FontFactory.createFromAsset(activity.getFontManager(), font_hud,
				activity.getAssets(), mFontFile, 80, true,
				android.graphics.Color.WHITE);
		font.load();
		final ITexture font_hud1 = new BitmapTextureAtlas(
				activity.getTextureManager(), 1024, 1024,
				TextureOptions.BILINEAR);
		font1 = FontFactory.createFromAsset(activity.getFontManager(),
				font_hud1, activity.getAssets(), mFontFile, 30, true,
				android.graphics.Color.WHITE);
		font1.load();
	}
}
